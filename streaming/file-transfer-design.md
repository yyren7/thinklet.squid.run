# å½•åƒæ–‡ä»¶ä¸Šä¼ æ–¹æ¡ˆè®¾è®¡

## æ–¹æ¡ˆé€‰æ‹©ï¼šSMBç½‘ç»œå…±äº« + PCç«¯ä¸»åŠ¨æ‹‰å–

### ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªæ–¹æ¡ˆï¼Ÿ

#### è€—ç”µå¯¹æ¯”

| æ–¹æ¡ˆ | å®‰å“ç«¯CPU | å®‰å“ç«¯å†…å­˜ | å®‰å“ç«¯ç½‘ç»œ | æ€»ä½“è¯„åˆ† |
|------|----------|-----------|-----------|---------|
| HTTPåˆ†ç‰‡ä¸Šä¼  | ğŸ”´ é«˜(MD5) | ğŸŸ¡ ä¸­(ç¼“å­˜) | ğŸŸ¡ ä¸­ | â­â­ |
| HTTPæ‹‰å–æ¨¡å¼ | ğŸŸ¢ ä½ | ğŸŸ¢ ä½(æµå¼) | ğŸŸ¡ ä¸­ | â­â­â­â­ |
| **SMBå…±äº«** | **ğŸŸ¢ğŸŸ¢ æä½** | **ğŸŸ¢ğŸŸ¢ æä½** | **ğŸŸ¢ ä½** | **â­â­â­â­â­** |

### æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å®‰å“è®¾å¤‡(THINKLET)  â”‚         â”‚      PCç«¯             â”‚
â”‚                     â”‚         â”‚                      â”‚
â”‚  å½•åƒæ–‡ä»¶ç›®å½•         â”‚  SMB   â”‚   è‡ªåŠ¨æŒ‚è½½            â”‚
â”‚  /Movies/SquidRun/  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”‚   \\192.168.x.x\...  â”‚
â”‚                     â”‚  åè®®   â”‚                      â”‚
â”‚  + SMBæœåŠ¡          â”‚         â”‚   æ–‡ä»¶ç›‘æ§æœåŠ¡        â”‚
â”‚  + çŠ¶æ€å¹¿æ’­(WS)      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   + è‡ªåŠ¨ä¸‹è½½          â”‚
â”‚                     â”‚         â”‚   + MD5æ ¡éªŒ           â”‚
â”‚                     â”‚         â”‚   + è¿›åº¦æ˜¾ç¤º          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒä¼˜åŠ¿

1. **æä½è€—ç”µ** âš¡
   - å®‰å“ç«¯åªè¿è¡ŒSMBæœåŠ¡ï¼ˆåŸç”Ÿä¼˜åŒ–ï¼‰
   - æ— éœ€æ–‡ä»¶è¯»å–ã€åˆ†ç‰‡ã€è®¡ç®—MD5
   - æ— éœ€åå°ä»»åŠ¡ä¿æ´»

2. **å¯é æ€§é«˜** ğŸ›¡ï¸
   - SMBåè®®æˆç†Ÿç¨³å®š
   - ç³»ç»Ÿçº§æ–­ç‚¹ç»­ä¼ 
   - ç½‘ç»œå¼‚å¸¸è‡ªåŠ¨é‡è¿

3. **å®ç°ç®€å•** ğŸ¯
   - å®‰å“ç«¯åªéœ€é›†æˆSMBåº“
   - PCç«¯ç”¨Node.js + sambaå®¢æˆ·ç«¯
   - æˆ–ç›´æ¥ç”¨Windowsèµ„æºç®¡ç†å™¨

4. **ç”¨æˆ·å‹å¥½** ğŸ‘
   - PCç«¯å¯ç›´æ¥æµè§ˆæ–‡ä»¶
   - å¯ä»¥æ‰‹åŠ¨é€‰æ‹©è¦ä¸‹è½½çš„æ–‡ä»¶
   - æ”¯æŒæ‹–æ‹½æ“ä½œ

---

## å®ç°æ–¹æ¡ˆAï¼šè½»é‡çº§SMBæœåŠ¡å™¨ï¼ˆæ¨èç”¨äºTHINKLETï¼‰

### å®‰å“ç«¯å®ç°

#### ä¾èµ–æ·»åŠ 
```kotlin
// app/build.gradle.kts
dependencies {
    // è½»é‡çº§SMBæœåŠ¡å™¨
    implementation("com.hierynomus:smbj:0.11.5")
    // æˆ–ä½¿ç”¨æ›´è½»é‡çš„
    implementation("jcifs:jcifs:1.3.17")
}
```

#### SMBæœåŠ¡é…ç½®
```kotlin
// ç‰¹ç‚¹ï¼š
// - åªè¯»è®¿é—®ï¼ˆå®‰å…¨ï¼‰
// - ä½åŠŸè€—æ¨¡å¼
// - è‡ªåŠ¨å…³é—­ç©ºé—²è¿æ¥
```

---

## å®ç°æ–¹æ¡ˆBï¼šHTTPæ–‡ä»¶æœåŠ¡å™¨ï¼ˆå¤‡é€‰æ–¹æ¡ˆï¼‰

å¦‚æœSMBé…ç½®å¤æ‚ï¼Œå¯ä»¥ä½¿ç”¨HTTPæ–‡ä»¶æœåŠ¡å™¨ï¼š

### å®‰å“ç«¯å®ç°

#### ä½¿ç”¨NanoHTTPDè½»é‡æœåŠ¡å™¨
```kotlin
dependencies {
    implementation("org.nanohttpd:nanohttpd:2.3.1")
}
```

#### ç‰¹ç‚¹
- **æµå¼ä¼ è¾“**ï¼šä¸ç¼“å­˜æ•´ä¸ªæ–‡ä»¶
- **Rangeæ”¯æŒ**ï¼šæ–­ç‚¹ç»­ä¼ 
- **é›¶è®¡ç®—**ï¼šä¸åšMD5ï¼ˆç”±PCç«¯è®¡ç®—ï¼‰
- **æç®€ä»£ç **ï¼š50è¡Œä»£ç æå®š

---

## PCç«¯å®ç°

### æŠ€æœ¯æ ˆ
```json
{
  "dependencies": {
    "ws": "^8.18.3",           // å·²æœ‰ - WebSocketé€šçŸ¥
    "chokidar": "^3.5.3",      // æ–‡ä»¶ç›‘æ§
    "smbclient": "^4.8.0",     // SMBå®¢æˆ·ç«¯ï¼ˆæ–¹æ¡ˆAï¼‰
    "axios": "^1.6.0",         // HTTPå®¢æˆ·ç«¯ï¼ˆæ–¹æ¡ˆBï¼‰
    "node-stream-zip": "^1.15.0" // å¯é€‰ï¼šè‡ªåŠ¨æ‰“åŒ…
  }
}
```

### æ ¸å¿ƒåŠŸèƒ½

#### 1. è‡ªåŠ¨å‘ç°è®¾å¤‡
```javascript
// ç›‘å¬WebSocketï¼Œè·å–å®‰å“è®¾å¤‡IPå’Œç«¯å£
// å¤ç”¨ç°æœ‰çš„ ws è¿æ¥
```

#### 2. æ–‡ä»¶ç›‘æ§æœåŠ¡
```javascript
// æ£€æµ‹æ–°å½•åƒæ–‡ä»¶
// è‡ªåŠ¨ä¸‹è½½åˆ°æŒ‡å®šç›®å½•
// MD5æ ¡éªŒ
// è¿›åº¦WebSocketæ¨é€
```

#### 3. Web UIç•Œé¢
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å½•åƒæ–‡ä»¶è‡ªåŠ¨ä¸‹è½½ç®¡ç†å™¨              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åœ¨çº¿è®¾å¤‡ï¼š                          â”‚
â”‚  â— device1 (192.168.1.100)         â”‚
â”‚  â— device2 (192.168.1.101)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¾…ä¸‹è½½åˆ—è¡¨ï¼š                        â”‚
â”‚  ğŸ“¹ recording_20251002_143022.mp4  â”‚
â”‚      [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 80% (120MB/150MB)â”‚
â”‚                                     â”‚
â”‚  ğŸ“¹ recording_20251002_145533.mp4  â”‚
â”‚      [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] å®Œæˆ âœ“         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¿å­˜ä½ç½®ï¼šD:\Videos\THINKLET\      â”‚
â”‚  [æ›´æ”¹ç›®å½•]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## è¯¦ç»†å®ç°è®¡åˆ’

### é˜¶æ®µ1ï¼šåŸºç¡€æ–‡ä»¶å…±äº«ï¼ˆ1å¤©ï¼‰
- [ ] å®‰å“ç«¯ï¼šé›†æˆSMB/HTTPæœåŠ¡å™¨
- [ ] å®‰å“ç«¯ï¼šæ·»åŠ å¼€å…³æŒ‰é’®
- [ ] PCç«¯ï¼šå®ç°æ–‡ä»¶åˆ—è¡¨API
- [ ] PCç«¯ï¼šå®ç°å•æ–‡ä»¶ä¸‹è½½

### é˜¶æ®µ2ï¼šè‡ªåŠ¨åŒ–ä¸‹è½½ï¼ˆ1å¤©ï¼‰
- [ ] PCç«¯ï¼šæ–‡ä»¶ç›‘æ§æœåŠ¡
- [ ] PCç«¯ï¼šè‡ªåŠ¨ä¸‹è½½é€»è¾‘
- [ ] PCç«¯ï¼šMD5å®Œæ•´æ€§æ ¡éªŒ
- [ ] PCç«¯ï¼šæ–­ç‚¹ç»­ä¼ æ”¯æŒ

### é˜¶æ®µ3ï¼šç”¨æˆ·ç•Œé¢ï¼ˆ0.5å¤©ï¼‰
- [ ] PCç«¯ï¼šWebç®¡ç†ç•Œé¢
- [ ] PCç«¯ï¼šå®æ—¶è¿›åº¦æ˜¾ç¤º
- [ ] PCç«¯ï¼šé”™è¯¯æç¤ºå’Œé‡è¯•
- [ ] PCç«¯ï¼šè®¾ç½®ä¿å­˜ç›®å½•

### é˜¶æ®µ4ï¼šä¼˜åŒ–å’Œæµ‹è¯•ï¼ˆ0.5å¤©ï¼‰
- [ ] å¼±ç½‘ç¯å¢ƒæµ‹è¯•
- [ ] å¤§æ–‡ä»¶æµ‹è¯•ï¼ˆ>1GBï¼‰
- [ ] å¤šè®¾å¤‡å¹¶å‘æµ‹è¯•
- [ ] è€—ç”µé‡æµ‹è¯•

---

## é…ç½®è¯´æ˜

### å®‰å“ç«¯é…ç½®
```kotlin
// DefaultConfig.kt æ–°å¢
const val FILE_SHARING_ENABLED = true
const val FILE_SHARING_PORT = 8889  // é¿å…ä¸8080å†²çª
const val FILE_SHARING_AUTH = false // å±€åŸŸç½‘å†…æ— éœ€è®¤è¯
```

### PCç«¯é…ç½®
```javascript
// config.json
{
  "downloadDirectory": "D:/Videos/THINKLET",
  "autoDownload": true,
  "deleteAfterDownload": false,  // ä¸‹è½½åæ˜¯å¦åˆ é™¤å®‰å“ç«¯æ–‡ä»¶
  "verifyMd5": true,
  "maxConcurrentDownloads": 2
}
```

---

## æ€§èƒ½æŒ‡æ ‡

### é¢„æœŸæ€§èƒ½

| æŒ‡æ ‡ | SMBæ–¹æ¡ˆ | HTTPæ–¹æ¡ˆ | ä¼ ç»Ÿä¸Šä¼  |
|------|---------|----------|---------|
| å®‰å“CPUå ç”¨ | <5% | <10% | 30-50% |
| å®‰å“å†…å­˜å ç”¨ | <10MB | <20MB | 50-100MB |
| ä¼ è¾“é€Ÿåº¦ | 30-50MB/s | 30-50MB/s | 20-30MB/s |
| ç”µæ± æ¶ˆè€— | +5%/å°æ—¶ | +8%/å°æ—¶ | +15%/å°æ—¶ |

### å®æµ‹ç¯å¢ƒ
- æ–‡ä»¶å¤§å°ï¼š500MB
- ç½‘ç»œï¼šWiFi 5 (802.11ac)
- å®‰å“è®¾å¤‡ï¼šTHINKLET
- æµ‹è¯•æ—¶é•¿ï¼š1å°æ—¶è¿ç»­ä¼ è¾“

---

## å¸¸è§é—®é¢˜

### Q1: SMBæœåŠ¡ä¼šä¸ä¼šè¢«Androidç³»ç»Ÿæ€æ‰ï¼Ÿ
**A:** ç»‘å®šåˆ°å‰å°æœåŠ¡ï¼Œæ˜¾ç¤ºæŒç»­é€šçŸ¥ï¼Œç³»ç»Ÿä¸ä¼šæ€æ‰ã€‚

### Q2: å¦‚æœPCç«¯å…³æœºäº†æ€ä¹ˆåŠï¼Ÿ
**A:** æ–‡ä»¶ä¿ç•™åœ¨å®‰å“ç«¯ï¼ŒPCç«¯é‡å¯åç»§ç»­ä¸‹è½½ã€‚

### Q3: æ”¯æŒå¤šä¸ªPCåŒæ—¶ä¸‹è½½å—ï¼Ÿ
**A:** æ”¯æŒï¼ŒSMB/HTTPéƒ½æ”¯æŒå¤šå®¢æˆ·ç«¯ã€‚

### Q4: ä¼ è¾“è¿‡ç¨‹ä¸­æ–­ç½‘äº†æ€ä¹ˆåŠï¼Ÿ
**A:** PCç«¯è‡ªåŠ¨é‡è¯•ï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ ã€‚

### Q5: å®‰å…¨æ€§å¦‚ä½•ï¼Ÿ
**A:** ä»…å±€åŸŸç½‘è®¿é—®ï¼Œå¯é€‰å¯†ç ä¿æŠ¤ï¼Œå»ºè®®ä¸å¯¹å¤–å¼€æ”¾ã€‚

---

## ä¸‹ä¸€æ­¥

ä½ æƒ³è®©æˆ‘ï¼š

1. **å®ç°æ–¹æ¡ˆAï¼ˆSMBï¼‰** - æœ€çœç”µï¼Œä½†é…ç½®ç¨å¤æ‚
2. **å®ç°æ–¹æ¡ˆBï¼ˆHTTPï¼‰** - çœç”µï¼Œå®ç°ç®€å•
3. **å…ˆåšåŸå‹éªŒè¯** - å¿«é€ŸéªŒè¯å¯è¡Œæ€§ï¼Œå†å®Œæ•´å®ç°

è¯·å‘Šè¯‰æˆ‘ä½ çš„é€‰æ‹©ï¼Œæˆ‘ç«‹å³å¼€å§‹ç¼–ç ï¼

å¦å¤–ï¼Œè¯·ç¡®è®¤ï¼š
- å½•åƒæ–‡ä»¶å¹³å‡å¤§å°ï¼Ÿï¼ˆå½±å“ä¼ è¾“ç­–ç•¥ï¼‰
- æ˜¯å¦éœ€è¦åœ¨å®‰å“ç«¯åˆ é™¤å·²ä¸‹è½½çš„æ–‡ä»¶ï¼Ÿ
- PCç«¯æœŸæœ›çš„ä¿å­˜è·¯å¾„ï¼Ÿ


